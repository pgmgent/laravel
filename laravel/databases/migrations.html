<!DOCTYPE html>
<html lang="nl-BE">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Migrations | Advanced Development &amp; Laravel</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link href="https://www.gdm.gent/vuepress-theme-artevelde/favicon.svg" rel="icon">
    <meta name="description" content="Advanced Development with PHP &amp; MVC with Laravel">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex">
    
    <link rel="preload" href="/laravel/assets/css/0.styles.0b454ba6.css" as="style"><link rel="preload" href="/laravel/assets/js/app.9fc9bfe7.js" as="script"><link rel="preload" href="/laravel/assets/js/2.f4ff8d09.js" as="script"><link rel="preload" href="/laravel/assets/js/1.6dc52488.js" as="script"><link rel="preload" href="/laravel/assets/js/79.4d303612.js" as="script"><link rel="preload" href="/laravel/assets/js/6.8ae372e2.js" as="script"><link rel="preload" href="/laravel/assets/js/21.a94f78e3.js" as="script"><link rel="preload" href="/laravel/assets/js/4.abda3fa6.js" as="script"><link rel="prefetch" href="/laravel/assets/js/10.980aae0d.js"><link rel="prefetch" href="/laravel/assets/js/11.35b22657.js"><link rel="prefetch" href="/laravel/assets/js/12.dda749b6.js"><link rel="prefetch" href="/laravel/assets/js/13.779b3073.js"><link rel="prefetch" href="/laravel/assets/js/14.f900b80d.js"><link rel="prefetch" href="/laravel/assets/js/15.40faa082.js"><link rel="prefetch" href="/laravel/assets/js/16.3327abf8.js"><link rel="prefetch" href="/laravel/assets/js/17.e4ba189e.js"><link rel="prefetch" href="/laravel/assets/js/18.73e497ac.js"><link rel="prefetch" href="/laravel/assets/js/19.e8db1473.js"><link rel="prefetch" href="/laravel/assets/js/20.53560cb0.js"><link rel="prefetch" href="/laravel/assets/js/22.0cc103e5.js"><link rel="prefetch" href="/laravel/assets/js/23.acff0979.js"><link rel="prefetch" href="/laravel/assets/js/24.d9d364b0.js"><link rel="prefetch" href="/laravel/assets/js/25.c50b9c7f.js"><link rel="prefetch" href="/laravel/assets/js/26.67a052fc.js"><link rel="prefetch" href="/laravel/assets/js/28.98c20a32.js"><link rel="prefetch" href="/laravel/assets/js/29.4e6e5ef8.js"><link rel="prefetch" href="/laravel/assets/js/3.f0dc286f.js"><link rel="prefetch" href="/laravel/assets/js/30.c53a1ce4.js"><link rel="prefetch" href="/laravel/assets/js/31.9d17ced0.js"><link rel="prefetch" href="/laravel/assets/js/32.3d5e2303.js"><link rel="prefetch" href="/laravel/assets/js/33.5a5903d4.js"><link rel="prefetch" href="/laravel/assets/js/34.c389fff7.js"><link rel="prefetch" href="/laravel/assets/js/35.fbdd6f8d.js"><link rel="prefetch" href="/laravel/assets/js/36.a7015d9e.js"><link rel="prefetch" href="/laravel/assets/js/37.6dd6ece2.js"><link rel="prefetch" href="/laravel/assets/js/38.66286f38.js"><link rel="prefetch" href="/laravel/assets/js/39.7426c0de.js"><link rel="prefetch" href="/laravel/assets/js/40.798dba5a.js"><link rel="prefetch" href="/laravel/assets/js/41.b457ff72.js"><link rel="prefetch" href="/laravel/assets/js/42.f45c60ad.js"><link rel="prefetch" href="/laravel/assets/js/43.ce325db2.js"><link rel="prefetch" href="/laravel/assets/js/44.bbe0f710.js"><link rel="prefetch" href="/laravel/assets/js/45.b3bfdec9.js"><link rel="prefetch" href="/laravel/assets/js/46.9f2808e6.js"><link rel="prefetch" href="/laravel/assets/js/47.ed7d1cfc.js"><link rel="prefetch" href="/laravel/assets/js/48.adee4aec.js"><link rel="prefetch" href="/laravel/assets/js/49.49a99597.js"><link rel="prefetch" href="/laravel/assets/js/5.30e088e2.js"><link rel="prefetch" href="/laravel/assets/js/50.e415a4c6.js"><link rel="prefetch" href="/laravel/assets/js/51.1d4c2048.js"><link rel="prefetch" href="/laravel/assets/js/52.f633020e.js"><link rel="prefetch" href="/laravel/assets/js/53.fd94a520.js"><link rel="prefetch" href="/laravel/assets/js/54.6c9f7464.js"><link rel="prefetch" href="/laravel/assets/js/55.283f80f5.js"><link rel="prefetch" href="/laravel/assets/js/56.b3114732.js"><link rel="prefetch" href="/laravel/assets/js/57.3df0e198.js"><link rel="prefetch" href="/laravel/assets/js/58.a889111d.js"><link rel="prefetch" href="/laravel/assets/js/59.68cb61e4.js"><link rel="prefetch" href="/laravel/assets/js/60.21089a05.js"><link rel="prefetch" href="/laravel/assets/js/61.f7dc2a7d.js"><link rel="prefetch" href="/laravel/assets/js/62.b1a77f0a.js"><link rel="prefetch" href="/laravel/assets/js/63.c01eb714.js"><link rel="prefetch" href="/laravel/assets/js/64.2801374a.js"><link rel="prefetch" href="/laravel/assets/js/65.61ba0f16.js"><link rel="prefetch" href="/laravel/assets/js/66.bc1d23aa.js"><link rel="prefetch" href="/laravel/assets/js/67.5e97f8bd.js"><link rel="prefetch" href="/laravel/assets/js/68.183b9698.js"><link rel="prefetch" href="/laravel/assets/js/69.638ee202.js"><link rel="prefetch" href="/laravel/assets/js/7.20738dfe.js"><link rel="prefetch" href="/laravel/assets/js/70.b79e5feb.js"><link rel="prefetch" href="/laravel/assets/js/71.249e3f10.js"><link rel="prefetch" href="/laravel/assets/js/72.2519e80d.js"><link rel="prefetch" href="/laravel/assets/js/73.a86f9281.js"><link rel="prefetch" href="/laravel/assets/js/74.af4b3d3c.js"><link rel="prefetch" href="/laravel/assets/js/75.63b49b68.js"><link rel="prefetch" href="/laravel/assets/js/76.f4d26d3c.js"><link rel="prefetch" href="/laravel/assets/js/77.02a800bd.js"><link rel="prefetch" href="/laravel/assets/js/78.b0491555.js"><link rel="prefetch" href="/laravel/assets/js/8.0423f836.js"><link rel="prefetch" href="/laravel/assets/js/80.67bbd776.js"><link rel="prefetch" href="/laravel/assets/js/81.86024e31.js"><link rel="prefetch" href="/laravel/assets/js/82.6f1fdbda.js"><link rel="prefetch" href="/laravel/assets/js/83.6b59acfb.js"><link rel="prefetch" href="/laravel/assets/js/84.332976c4.js"><link rel="prefetch" href="/laravel/assets/js/85.35d354b8.js"><link rel="prefetch" href="/laravel/assets/js/86.5c7df381.js"><link rel="prefetch" href="/laravel/assets/js/87.d4bb09a6.js"><link rel="prefetch" href="/laravel/assets/js/88.2e5787cc.js"><link rel="prefetch" href="/laravel/assets/js/89.25662e32.js"><link rel="prefetch" href="/laravel/assets/js/9.8f0021fa.js"><link rel="prefetch" href="/laravel/assets/js/90.b9c6d33f.js"><link rel="prefetch" href="/laravel/assets/js/91.d7cdeaa6.js"><link rel="prefetch" href="/laravel/assets/js/92.53e2f393.js"><link rel="prefetch" href="/laravel/assets/js/93.2d16aa7e.js"><link rel="prefetch" href="/laravel/assets/js/94.a8669904.js"><link rel="prefetch" href="/laravel/assets/js/95.b733da24.js"><link rel="prefetch" href="/laravel/assets/js/96.efee245c.js">
    <link rel="stylesheet" href="/laravel/assets/css/0.styles.0b454ba6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="navbar-item"><div class="sidebar-button"><svg fill="currentColor" height="2em" viewBox="0 0 16 16" width="2em" xmlns="http://www.w3.org/2000/svg" class="sidebar-icon sidebar-closing-icon"><path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"></path> <path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"></path></svg> <svg fill="currentColor" height="2em" viewBox="0 0 16 16" width="2em" xmlns="http://www.w3.org/2000/svg" class="sidebar-icon sidebar-opening-icon"><path fill-rule="evenodd" d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"></path></svg></div></div> <a href="/laravel/" class="navbar-item home-link router-link-active"><img src="https://www.gdm.gent/vuepress-theme-artevelde/artevelde__icon--white.svg" alt="Advanced Development &amp; Laravel" class="logo"> <span class="site-name">Advanced Development &amp; Laravel</span></a> <div class="search-box navbar-item"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links navbar-item can-hide"><div class="nav-item"><a href="/laravel/concepts/" class="nav-link">Basisconcepten</a></div><div class="nav-item"><a href="/laravel/laravel/" class="nav-link router-link-active">Laravel</a></div><div class="nav-item"><a href="/laravel/mailing/" class="nav-link">Mailing</a></div><div class="nav-item"><a href="/laravel/deployment/" class="nav-link">Deployment</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Taal</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/laravel/laravel/databases/migrations.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">Nederlands</a></li><li class="dropdown-item"><!----> <a href="/laravel/en/" class="nav-link">English</a></li></ul></div></div> <!----> <!----></nav></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/laravel/concepts/" class="nav-link">Basisconcepten</a></div><div class="nav-item"><a href="/laravel/laravel/" class="nav-link router-link-active">Laravel</a></div><div class="nav-item"><a href="/laravel/mailing/" class="nav-link">Mailing</a></div><div class="nav-item"><a href="/laravel/deployment/" class="nav-link">Deployment</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Taal</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/laravel/laravel/databases/migrations.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">Nederlands</a></li><li class="dropdown-item"><!----> <a href="/laravel/en/" class="nav-link">English</a></li></ul></div></div> <!----> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/laravel/laravel/" class="router-link-active sidebar-heading clickable open"><span>Laravel</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group depth-1 collapsable is-sub-group"><a href="/laravel/laravel/basics/" class="sidebar-heading clickable"><span>Laravel MVC</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group depth-1 collapsable is-sub-group"><a href="/laravel/laravel/databases/" class="router-link-active sidebar-heading clickable open"><span>Database</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/laravel/laravel/databases/connecting.html" class="sidebar-link">Verbinden met een database</a></li><li><a href="/laravel/laravel/databases/migrations.html" aria-current="page" class="active sidebar-link">Migrations</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/laravel/laravel/databases/migrations.html#een-bestaande-tabel-updaten" class="sidebar-link">Een bestaande tabel updaten</a></li><li class="sidebar-sub-header"><a href="/laravel/laravel/databases/migrations.html#veel-op-veel-relatie" class="sidebar-link">Veel-op-veel relatie</a></li><li class="sidebar-sub-header"><a href="/laravel/laravel/databases/migrations.html#roll-back-keer-ne-ke-were" class="sidebar-link">Roll-back (keer ne ke were)</a></li></ul></li><li><a href="/laravel/laravel/databases/seeding.html" class="sidebar-link">Database seeding</a></li><li><a href="/laravel/laravel/databases/eloquent.html" class="sidebar-link">Querying data</a></li><li><a href="/laravel/laravel/databases/relations.html" class="sidebar-link">Relaties</a></li><li><a href="/laravel/laravel/databases/soft_delete.html" class="sidebar-link">Soft delete</a></li><li><a href="/laravel/laravel/databases/filament.html" class="sidebar-link">Laravel backoffice met Filament</a></li></ul></section></li><li><section class="sidebar-group depth-1 collapsable is-sub-group"><a href="/laravel/laravel/how-to/" class="sidebar-heading clickable"><span>How to</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="migrations"><a href="#migrations" class="header-anchor">#</a> Migrations</h1> <p>Via <a href="/laravel/laravel/how-to/artisan">Artisan van Laravel</a> kan je migrations aanmaken en uitvoeren op je database.</p> <p>Maak een eerste migrations file aan via het commando</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ddev artisan make:migration create_projects_table
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Je zal merken dat er een nieuwe php migration file is aangemaakt on <code>data/migrations/</code> met de timestamp.</p> <p>Als je deze zou uitvoeren dan zal deze een tabel projects aanmaken met een id en de timestamps created_at en updated_at.</p> <p>Om al eens op voorhand te kijken wat een migration zal uitvoeren van SQL queries kan je de migration starten met de extra parameter <code>pretend</code>.</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ddev artisan migrate <span class="token parameter variable">--pretend</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>We moeten dus eerst nog enkele extra kolommen toevoegen vooraleer we de migration gaan uitvoeren. Bij iedere kolom moeten we het data type meegeven. (Bekijk hier het overzicht van datatypes)[https://laravel.com/docs/12.x/migrations#available-column-types].</p> <p>Dit gebeurd telkens in de up method.</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'projects'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Blueprint</span> <span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'description'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">boolean</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'publish'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">timestamps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>In de down method moeten we ervoor zorgen dat de update ongedaan gemaakt wordt. In dit geval de tabel verwijderen.</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">dropIfExists</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'projects'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Als de migration in orde is kunnen we deze testen via de pretend, dan krijg je de sql te zien die zal uitgevoerd worden, of je kan die meteen uitvoeren:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ddev artisan migrate <span class="token parameter variable">--pretend</span>
ddev artisan migrate
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="een-bestaande-tabel-updaten"><a href="#een-bestaande-tabel-updaten" class="header-anchor">#</a> Een bestaande tabel updaten</h2> <p>Je kunt meerdere migrations aanmaken per tabel, maar het is ook mogelijk om aanpassingen te maken aan een bestaande tabel. Dit is handig voor het toevoegen van nieuwe kolommen, het wijzigen van kolomtypes of het verwijderen van kolommen.</p> <p>Stel dat je een extra kolom year wilt toevoegen aan de projects-tabel. Dit kun je doen door een nieuwe migration aan te maken:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ddev artisan make:migration add_year_column_to_projects_table <span class="token parameter variable">--table</span><span class="token operator">=</span>projects
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>In het aangemaakte bestand voeg je de gewenste wijzigingen toe in de up-methode:</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'projects'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Blueprint</span> <span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">integer</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'year'</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">after</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'description'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// De kolom komt na 'description'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>In de down-methode specificeer je hoe de wijziging ongedaan moet worden gemaakt:</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'projects'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Blueprint</span> <span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">dropColumn</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'year'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>(Meer info in de handleiding van Laravel)[https://laravel.com/docs/12.x/migrations]</p> <h2 id="veel-op-veel-relatie"><a href="#veel-op-veel-relatie" class="header-anchor">#</a> Veel-op-veel relatie</h2> <p>Een Many-to-many relatie verwacht een tussentabel. De naamgeving van deze tussen tabellen in Laravel is tabelnamen in enkelvoud, alfabetisch met een underscore tussen.</p> <p>Dus als we medewerkers willen koppelen aan een project dan zullen we een employees tabel hebben. We weten dan medewerkers aan meerdere projecten gekoppeld kunnen worden en een project kan meerdere medewerks hebben (many-to-many). De tussentabel zal in dit geval de naam <code>employee_project</code> krijgen.</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'employee_project'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Blueprint</span> <span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">foreignId</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'employee_id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">foreignId</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'project_id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">timestamps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//optioneel</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="combined-primary-key"><a href="#combined-primary-key" class="header-anchor">#</a> Combined primary key</h3> <p>Het is ook mogelijk om een combined primary key te maken in plaats van een nieuw id per relatie. Hiervoor moet je in de creatie meegeven dat de primary key bestaat uit de 2 foreign keys. Dit wil dan wel zeggen dat je de relatie maar 1 keer kan aanmaken.</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'employee_project'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Blueprint</span> <span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">foreignId</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'employee_id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">foreignId</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'project_id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">primary</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'employee_id'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'project_id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="roll-back-keer-ne-ke-were"><a href="#roll-back-keer-ne-ke-were" class="header-anchor">#</a> Roll-back (keer ne ke were)</h2> <p>Heb je een migration uitgevoerd en wil je deze migration ongedaan maken. Dan kan je een rollback doen. Hierbij kan je ook een parameter meegeven met het aantal migration die ongedaan gemaakt moeten worden. Door dit te doen zullen de ‘down’ methods uitgevoerd worden.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ddev artisan migrate:rollback --step=1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>Ook hier kan je voor de veiligheid eerst eens een <code>--prentend</code> bijplaatsen</p></blockquote></div> <div class="page-nav"><div class="inner"><a href="/laravel/laravel/databases/connecting.html" class="btn btn-left" data-v-67075f4c><svg fill="currentColor" class="icon bi" data-v-5390759e data-v-67075f4c><use xlink:href="/laravel/assets/img/bootstrap-icons.053b17c3.svg#arrow-left" data-v-5390759e></use></svg> Verbinden met een database <!----></a> <a href="/laravel/laravel/databases/seeding.html" class="btn btn-right" data-v-67075f4c><!----> Database seeding <svg fill="currentColor" class="icon bi" data-v-5390759e data-v-67075f4c><use xlink:href="/laravel/assets/img/bootstrap-icons.053b17c3.svg#arrow-right" data-v-5390759e></use></svg></a></div></div> <footer class="page-edit"><span class="copyright">© 2025 Arteveldehogeschool</span> <span class="last-updated"><span class="prefix">Laatst bijgewerkt:</span> <span class="time">17/9/2025 16:45:16</span></span> <!----></footer> </main></div><div class="global-ui"></div></div>
    <script src="/laravel/assets/js/app.9fc9bfe7.js" defer></script><script src="/laravel/assets/js/2.f4ff8d09.js" defer></script><script src="/laravel/assets/js/1.6dc52488.js" defer></script><script src="/laravel/assets/js/79.4d303612.js" defer></script><script src="/laravel/assets/js/6.8ae372e2.js" defer></script><script src="/laravel/assets/js/21.a94f78e3.js" defer></script><script src="/laravel/assets/js/4.abda3fa6.js" defer></script>
  </body>
</html>
